namespace Core.Tests
{
    public class Tests
    {
        [SetUp]
        public void Setup()
        {
        }

        [Test]
        public void DNSMessage_RealPayload1()
        {
            var payload = Convert.FromHexString("0000000000030010000000000C5F616972706C61792D626473045F746370056C6F63616C00000C8001085F616972706C6179C019000C8001055F72616F70C019000C8001C029000C000100000F510009064F6666696365C029C029000C000100000F51000E0B4C6976696E6720526F6F6DC029C029000C000100000F5100131053697474696E6720526F6F6D20283229C029C029000C000100000F51001714546F6D6173E2809973204D61632053747564696FC029C029000C000100000F5100100D46726F6E7420426564726F6F6DC029C029000C000100000F51000F0C4261636B20426564726F6F6DC029C029000C000100000FE1000F0C53697474696E6720526F6F6DC029C029000C000100001102000A074B69746368656EC029C038000C000100000F51001714414535463635464444443136404B69746368656EC038C038000C000100000F51001613333644453738434345324137404F6666696365C038C038000C000100000F5100242146413334393833373335344140546F6D6173E2809973204D61632053747564696FC038C038000C000100000F51001D1A4141313942364441384244334046726F6E7420426564726F6F6DC038C038000C000100000F51001C19413634324638423930384442404261636B20426564726F6F6DC038C038000C00010000101500201D3736383136423244393041334053697474696E6720526F6F6D20283229C038C038000C000100001015001B18374534413936383342304142404C6976696E6720526F6F6DC038C038000C000100001015001C194336444531453332414237384053697474696E6720526F6F6DC038");
            var message = new DNSMessage(payload);

            Assert.That(message.IsQuery, Is.True);
            Assert.That(message.Queries.Count, Is.EqualTo(3));
            Assert.That(message.Queries[0], Is.EqualTo("_airplay-bds._tcp.local"));
            Assert.That(message.Queries[1], Is.EqualTo("_airplay._tcp.local"));
            Assert.That(message.Queries[2], Is.EqualTo("_raop._tcp.local"));
        }

        [Test]
        public void DNSMessage_RealPayload2()
        {
            var payload = Convert.FromHexString("000000000001000000000000255F30303030303030302D303762632D333939382D373866322D353062363037663834316231045F7375620D5F686F6D652D73686172696E67045F746370056C6F63616C00000C8001");
            var message = new DNSMessage(payload);

            Assert.That(message.IsQuery, Is.True);
            Assert.That(message.Queries.Count, Is.EqualTo(1));
            Assert.That(message.Queries[0], Is.EqualTo("_airplay-bds._tcp.local"));
            Assert.That(message.Queries[1], Is.EqualTo("_airplay._tcp.local"));
            Assert.That(message.Queries[2], Is.EqualTo("_raop._tcp.local"));
        }


    }
}